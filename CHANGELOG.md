# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 3.0.2 - 2025-07-17

* Fix linter [Otavio Jacobi]

## 3.0.1 - 2024-10-09


<details>
<summary> Update dependencies [Thodoris Greasidis] </summary>

> ### pinejs-client-js-8.1.1 - 2024-10-09
> 
> * Update @balena/abstract-sql-to-typescript to 5.0.0 [Thodoris Greasidis]
> 
> ### pinejs-client-js-8.1.0 - 2024-10-09
> 
> * Add support for calling odata fns [Otavio Jacobi]
> 

</details>

## 3.0.0 - 2024-09-14

* Switch to Node16 module resolution [Pagan Gazzard]
* Update @balena/abstract-sql-to-typescript to 4.0.6 [Pagan Gazzard]
* Update tsconfig target to es2023 [Pagan Gazzard]
* Update minimum nodejs to 20.x, npm to 10.x [Pagan Gazzard]

<details>
<summary> Update pinejs-client-core to 8.0.1 [Pagan Gazzard] </summary>

> ### pinejs-client-js-8.0.1 - 2024-09-13
> 
> * Fix multiple lambdas triggering the expand filter error [Pagan Gazzard]
> 
> ### pinejs-client-js-8.0.0 - 2024-09-13
> 
> * Remove error check if passing too many arguments to `request` [Pagan Gazzard]
> * Update error messages for invalid params [Pagan Gazzard]
> * Drop `url` from general `Params` and only have it in supported places [Pagan Gazzard]
> * Remove deprecated `prepare` signatures in favor of always passing expected aliases [Pagan Gazzard]
> * Remove `$filter: a: b: ...`, please use `$filter: a: $any: { $alias: "x", $expr: x: b: ... }` instead. [Pagan Gazzard]
> * Remove unused `PinejsClient` generic from the class signature [Pagan Gazzard]
> * Removed `$filter: { a: { $count: { $op: number } } }`, please use `$filter: { $eq: [ { a: { $count: {} } }, number ] }` instead. [Pagan Gazzard]
> * Update minimum supported version to es2018 [Pagan Gazzard]
> * Removed deprecated `transformGetResult` and renamed `_transformGetResult` to replace it [Pagan Gazzard]
> * Error on using OData options other than $filter in a `$expand: { a: { $count: {...} } }`. [Pagan Gazzard]
> * Removed `$orderby: 'a/$count'`, please use `$orderby: { a: { $count: {...} } }` instead. [Pagan Gazzard]
> * Removed `$expand: { 'a/$count': {...} }`, please use `$expand: { a: { $count: {...} } }` instead. [Pagan Gazzard]
> * Removed `resource: 'a/$count'`, please use `options: { $count: { ... } }` instead. [Pagan Gazzard]
> * Removed passing `url` to `compile`, please use a query object instead or use the url directly. [Pagan Gazzard]
> * Removed passing `url` to `delete`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `put`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `patch`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `post`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `get`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `upsert` as it is unsupported and may have adverse effects, please use a query object instead. [Pagan Gazzard]
> * Removed passing `url` to `getOrCreate` as it is unsupported and may have adverse effects, please use a query object instead. [Pagan Gazzard]
> 
> ### pinejs-client-js-7.2.0 - 2024-09-13
> 
> * Export `OptionsToResponse` type helper [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.5 - 2024-09-13
> 
> * Switch tsconfig module resolution to Node16 [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.4 - 2024-09-10
> 
> * Update TypeScript to 5.6.2 [Thodoris Greasidis]
> 
> ### pinejs-client-js-7.1.3 - 2024-09-05
> 
> * Improve `upsert` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.2 - 2024-09-05
> 
> * Improve `getOrCreate` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.1 - 2024-09-04
> 
> * Improve typings for `subscribe` function [Pagan Gazzard]
> * Fix typing for subscribe `on('data')` method [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.0 - 2024-09-02
> 
> * Deprecate `prepare` without expected parameter aliases [Pagan Gazzard]
> * Add the option to list expected parameter aliases when preparing a query [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.3 - Invalid date
> 
> * Fix typings for `request` method when using `method: 'GET'` [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.2 - Invalid date
> 
> * Reduce overloads for `get` by improving `OptionsToResponse` type helper [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.1 - 2024-08-29
> 
> * Change `ExpandPropsOf` and `ExpandToResponse` helpers to check the common case first [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.0 - 2024-08-13
> 
> * Update @balena/abstract-sql-to-typescript to v4 [Josh Bowling]
> 

</details>

## 2.1.4 - 2024-09-13

* Update @balena/lint to 9.x [Pagan Gazzard]

## 2.1.3 - 2024-09-13

* Copy `pinejs-client-core`s `OptionsToResponse` to reduce overloads for `get` [Pagan Gazzard]

## 2.1.2 - 2024-08-30


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.15.11 - 2024-08-12
> 
> * Fix most lint warnings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.10 - 2024-07-08
> 
> * Fix `getOrCreate` and `upsert` typing for the `body` property [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.9 - 2024-07-05
> 
> * Export `ExpandableStringKeyOf` typing [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.8 - 2024-07-05
> 
> * Improve typings of `prepare` when used to `GET` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.7 - 2024-06-27
> 
> * Use `OptionsToResponse` to avoid most of the `get` overloads [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.6 - 2024-06-25
> 
> * Add support for nested $expand response types and $count expands [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.5 - 2024-06-25
> 
> * Select all non-expanded fields when there is no $select [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.4 - 2024-06-24
> 
> * Update dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.3 - 2024-06-20
> 
> * Correctly type that all properties are selected with a missing $select [Pagan Gazzard]
> 

</details>

## 2.1.1 - 2024-06-20

* Correctly type that all properties are selected with a missing $select [Pagan Gazzard]

## 2.1.0 - 2024-06-19


<details>
<summary> Update pinejs-client-core to add support for using model specific typings [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.15.2 - 2024-06-19
> 
> * Improve $orderby typings when not providing a model [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.1 - 2024-06-17
> 
> * Correctly type the `POST` result as being fully deferred [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.0 - 2024-06-14
> 
> * Add support for using model specific typings [Pagan Gazzard]
> 

</details>

## 2.0.4 - 2024-06-13


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.14.13 - 2024-06-12
> 
> * Deprecate passing `url` to helper functions [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.12 - 2024-06-12
> 
> * Type `upsert` and `getOrCreate` as not accepting a `url` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.11 - 2024-06-11
> 
> * Include comments in generated output so that jsdoc is available [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.10 - 2024-06-11
> 
> * Tests: improve typing of tests [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.9 - 2024-06-10
> 
> * Add `$filter` to nested `$count` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.8 - 2024-06-10
> 
> * Tests: remove unnecessary/unintended returns [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.7 - 2024-06-06
> 
> * Fix using top level $count downstream [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.6 - 2024-05-28
> 
> * Type $count/$any/$all as needing to be nested in a navigation property [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.5 - 2024-05-28
> 
> * Use readonly arrays for typings for better compatibility with `as const` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.4 - 2024-05-08
> 
> * Deprecate the generic `PinejsClient` typing in favor of using `this` for `.clone` typing [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.3 - 2024-04-17
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.2 - 2024-03-04
> 
> * Improve typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.1 - 2024-03-04
> 
> * Update dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.0 - 2023-12-05
> 
> * Respect the Retry-After header when clients define the getRetryAfterHeader option [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.13.0 - 2023-07-11
> 
> * Add support for $duration [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.12.4 - 2023-05-09
> 
> * Avoid an unnecessary function creation on each get() call [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.12.3 - 2022-12-28
> 
> * CI: Convert tests to TypeScript [Josh Bowling]
> 
> ### pinejs-client-js-6.12.2 - 2022-11-18
> 
> * Fix `$orderby: { a: { $count: ... }, $dir: 'asc' }` typings [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.12.1 - 2022-11-15
> 
> * Update TypeScript to 4.9.3 [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.12.0 - 2022-11-10
> 
> * Deprecate the 'a/count' notation in $orderby [Thodoris Greasidis]
> * Deprecate the $count: { $op: number } notation [Thodoris Greasidis]
> * Add support for `$filter: { $op: [{ $count: {} }, number] }` notation [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.11.0 - 2022-11-09
> 
> * Deprecate non-$filter props inside `$expand: { a: { $count: {...}}}` [Thodoris Greasidis]
> * Add support for `$orderby: { a: { $count: ... }, $dir: 'asc' }` notation [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.7 - 2022-11-07
> 
> * Refactor the deprecation message definitions [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.6 - 2022-11-01
> 
> * tests: Support `.only` & `.skip` in the higher level test functions [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.5 - 2022-10-14
> 
> * Flowzone: Use inherited secrets [Pagan Gazzard]
> 
> ### pinejs-client-js-6.10.4 - 2022-09-26
> 
> * Specify node 10 as the minimum supported node engine in the package.json [Thodoris Greasidis]
> * Replace balenaCI with flowzone [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.3 - 2022-09-15
> 
> * Fix $count typings to only allow $filter under it [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.2 - 2022-04-08
> 
> * Update dependencies [Pagan Gazzard]
> * Remove circleci [Pagan Gazzard]
> 

</details>

## 2.0.3 - 2024-04-30

* Update @balena/lint to 8.0.2 [Thodoris Greasidis]
* Update TypeScript to 5.4.5 [Thodoris Greasidis]
* Update supertest to v7 [Thodoris Greasidis]

## 2.0.2 - 2024-01-02

* Update @types/supertest to v6 [Thodoris Greasidis]

## 2.0.1 - 2023-10-10

* get(): Fix returning an empty object instead of undefined [Thodoris Greasidis]

## 2.0.0 - 2023-10-10

* Update supertest to v6 [Thodoris Greasidis]
* Update @balena/lint to v7 [Thodoris Greasidis]
* Update TypeScript to 5.2.2 [Thodoris Greasidis]
* Drop support for node < 16 & require es2021 [Thodoris Greasidis]

## 1.5.0 - 2023-07-19

* Export `PromiseResult` [myarmolinsky]

## 1.4.1 - 2023-05-31

* Update flowzone.yml [Kyle Harding]

## 1.4.0 - 2023-04-03

* Allow passing a url string as the `app` instead of an Express app [Thodoris Greasidis]

## 1.3.5 - 2022-09-26

* Delete redundant .resinci.yml [Thodoris Greasidis]

## 1.3.4 - 2022-09-22

* Specify node 10 as the minimum supported node engine in the package.json [Thodoris Greasidis]
* Replace balenaCI with flowzone [Thodoris Greasidis]

## 1.3.3 - 2022-02-08


<details>
<summary> Fix using along with pinejs-client v6.10 [Thodoris Greasidis] </summary>

> ### pinejs-client-js-6.10.1 - 2022-02-08
> 
> * Do not await the _request() result to allow enhanced promises downstream [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.10.0 - 2022-01-24
> 
> * Add optional retry logic to client [Paul Jonathan Zoulin]
> 
> ### pinejs-client-js-6.9.6 - Invalid date
> 
> * Reformat with the latest prettier [Thodoris Greasidis]
> * Delete CODEOWNERS [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.9.5 - 2021-03-22
> 
> * Enable strict tsconfig options by default [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.4 - 2021-03-10
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 1.3.2 - 2021-06-30

* Delete CODEOWNERS [Thodoris Greasidis]

## 1.3.1 - 2021-01-19

* Throw on not supported upsert & getOrCreate methods [Thodoris Greasidis]

## 1.3.0 - 2021-01-18


<details>
<summary> Update pinejs-client-core to 6.9.3 and pick up improved typings [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.9.3 - 2020-11-20
> 
> * Explicitly specify return types for all functions [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.2 - 2020-10-23
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.1 - 2020-09-17
> 
> * Improve typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.0 - 2020-09-07
> 
> * Add 'getOrCreate' method supporting natural keys [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.8.0 - 2020-09-03
> 
> * Add support for $format [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.3 - 2020-08-26
> 
> * Improve $orderby typing to allow `[{a: 'desc'}, {b: 'asc'}]` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.2 - 2020-08-24
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.1 - 2020-08-12
> 
> * Fix prepare $count typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.0 - 2020-08-12
> 
> * Improve typings for request/post/put/patch/delete [Pagan Gazzard]
> 
</details>

## 1.2.0 - 2020-08-12


<details>
<summary> Update pinejs-client-core to 6.6.1 [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.6.1 - 2020-08-11
> 
> * Fix typing when id is specified to be `AnyObject | undefined` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.6.0 - 2020-08-11
> 
> * Deprecate `$expand: { 'a/$count': {...} }` [Pagan Gazzard]
> * Deprecate `resource: 'a/$count'` and update typings to reflect it [Pagan Gazzard]
> 
> ### pinejs-client-js-6.5.0 - 2020-08-11
> 
> * Add `options: { $count: { ... } }` sugar for top level $count [Pagan Gazzard]
> * Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands [Pagan Gazzard]
> 
> ### pinejs-client-js-6.4.0 - 2020-08-11
> 
> * Improve return typing of `subscribe` method [Pagan Gazzard]
> 
> ### pinejs-client-js-6.3.0 - 2020-08-11
> 
> * Fix Poll.on typings [Pagan Gazzard]
> * Improve return typing when id is passed to GET methods [Pagan Gazzard]
> * Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead [Pagan Gazzard]
> * Remove `PromiseObj` type, use `Promise<{}>` instead [Pagan Gazzard]
> 
> ### pinejs-client-js-6.2.0 - 2020-08-10
> 
> * Add `$filter: { a: { $count: 1 } }` sugar for $count in filters [Pagan Gazzard]
> 
> ### pinejs-client-js-6.1.2 - 2020-08-10
> 
> * Remove redundant ParamsObj/SubscribeParamsObj types [Pagan Gazzard]
> 
> ### pinejs-client-js-6.1.1 - 2020-08-10
> 
> * Make use of `mapObj` helper in more places [Pagan Gazzard]
> * Use `Object.keys` in preference to `hasOwnProperty` where applicable [Pagan Gazzard]
> 
</details>

## 1.1.0 - 2020-07-22

* Update dependencies [Pagan Gazzard]

# v1.0.1
## (2020-06-23)

* Add a .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]

# v1.0.0
## (2020-06-19)

* Bump build target to es2018 [Thodoris Greasidis]
* Add method overrides to provide supertest typings in the results [Thodoris Greasidis]
* Update pinejs-client-core to v6 [Thodoris Greasidis]

# v0.2.0
## (2020-04-24)

* Initial code commit [Thodoris Greasidis]

## v0.1.0 - 2020-04-24

* Initialize repository
